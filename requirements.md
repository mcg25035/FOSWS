# FOMO線上購物網站系統 (FOMO Online Shopping Website System) [FOSWS]
## 需求文件(V. 1.0)

**日期:** 3/10/2025
**單位:** 私立逢甲大學資訊工程系
**團隊:** 第六組

---

## 文件資訊

**製作者:**
* 曾偉倫 D1210267
* 高慶霖 D1248916
* 周冠謀 D1210270

**核准者:**
* 張志宏教授

**日期:** 3/10/2025

---

## 審閱者

* 管理者系統 (Administrator System)
* 顧客系統 (Customer Subsystem)
* 金流系統 (Payment Subsystem)
* 資料庫系統 (DataBase System)

---

## 內容

* **第一章 簡介**
    * 1.1 文件接受準則
    * 1.2 系統名稱
    * 1.3 概觀
    * 1.4 文件範圍
    * 1.5 方法
    * 1.6 符號
    * 1.7 控制文件
    * 1.8 優先順序
* **第二章 FOMO線上購物網站系統 (FOSWS 1.0.0)**
    * 2.1 系統描述
    * 2.2 系統功能
    * 2.3 介面總覽
        * 2.3.1 內部介面
        * 2.3.2 外部介面
    * 2.4 效能需求
    * 2.5 操作概念
    * 2.6 系統測試需求
* **第三章 管理者系統 (AS 1.1.0)**
    * 3.1 子系統描述
    * 3.2 功能需求
    * 3.3 介面需求
        * 3.3.1 內部介面
        * 3.3.2 外部介面
    * 3.4 效能需求
    * 3.5 操作概念
    * 3.6 安全、可信度、維護需求
        * 3.6.1 安全需求
        * 3.6.2 可信度需求
        * 3.6.3 維護需求
    * 3.7 交付、安裝、環境需求
        * 3.7.1 交付需求
        * 3.7.2 安裝需求
        * 3.7.3 環境需求
* **第四章 顧客子系統 (CS 1.2.N)**
    * 4.1 子系統描述
    * 4.2 功能需求
        * 4.2.1 顧客功能需求
        * 4.2.2 個人帳戶與資料管理
        * 4.2.3 商品收藏與追蹤
        * 4.2.4 優惠與個人化設定
        * 4.2.5 訊息與通知中心
        * 4.2.6 商品評價與問答
    * 4.3 介面需求
        * 4.3.1 內部介面
        * 4.3.2 外部介面
    * 4.4 效能需求
    * 4.5 操作概念
    * 4.6 安全、可信度、維護需求
        * 4.6.1 安全需求
        * 4.6.2 可信度需求
        * 4.6.3 維護需求
    * 4.7 交付、安裝、環境需求
        * 4.7.1 交付需求
        * 4.7.2 安裝需求
        * 4.7.3 環境需求
* **第五章 金流子系統 (PS 1.4.N)**
    * 5.1 子系統描述
    * 5.2 功能需求
        * 5.2.1 交易處理與支付管理
        * 5.2.2 使用者交易紀錄查詢
        * 5.2.3 金流通知與訊息中心
        * 5.2.4 金流客服與即時協助模組
        * 5.2.5 付款人基本資料與帳號維護
    * 5.3 介面需求
        * 5.3.1 內部介面
        * 5.3.2 外部介面
    * 5.4 效能需求
    * 5.5 操作概念
    * 5.6 安全、可信度、維護需求
        * 5.6.1 安全需求
        * 5.6.2 可信度需求
        * 5.6.3 維護需求
    * 5.7 交付、安裝、環境需求
        * 5.7.1 交付需求
        * 5.7.2 安裝需求
        * 5.7.3 環境需求
* **第六章 資料庫系統 (DBS 1.4.0)**
    * 6.1 子系統描述
    * 6.2 功能需求
    * 6.3 介面需求
    * 6.4 效能需求
    * 6.5 操作概念
    * 6.6 安全、可信度、維護需求
        * 6.6.1 安全需求
        * 6.6.2 可信度需求
        * 6.6.3 維護需求
    * 6.7 交付、安裝、環境需求
        * 6.7.1 交付需求
        * 6.7.2 安裝需求
        * 6.7.3 環境需求
* **附錄A 追蹤矩陣 (TRACEABILITY MATRIX)**
    * A1. 水平追蹤矩陣 (HORIZONTAL TRACEABILITY MATRIX)
    * A2. 垂直追蹤矩陣 (VERTICAL TRACEABILITY MATRIX)

---

## 第一章 簡介

### 1.1 文件接受準則
本文件依據 IEEE 830與ISO/IEC 25010之軟體工程標準撰寫,確保所有需求符合以下原則:
* 明確 (Unambiguous) 且可驗證 (Verifiable)。
* 完整且一致,避免邏輯衝突或重疊。
* 每一需求均可獨立識別 (以唯一編號表示)。
* 可實作,並具備明確的前提條件與假設。
* 可測試,具備量化或客觀的驗收準則。

### 1.2 系統名稱
**主系統名稱:**
FOMO線上購物網站系統 (FOMO Online Shopping Website System.)

**子系統名稱:**
* 管理者系統 (Administrator Subsystem, AS)
* 顧客系統 (Customer Subsystem, CS)
* 金流系統 (Payment Subsystem, PS)
* 資料庫系統 (Database Subsystem, DBS)

### 1.3 概觀
為因應時代消費趨勢、網路電商潮流,及優化線上購物體驗,本計畫將社群推薦與互動消費,充分與網路平台結合,發展出即時互動與個人化服務的消費情境模組,為全球市場及廣大消費者建立一個新一代的電子商務平台。

計畫進行時程 [2024~2027],前三年以研發、建置、優化包含雲端架構及行動裝置介面、金流模組、大數據分析及AI推薦之相關軟硬體系統等之ECP智慧購物網站為主,後一年則進行ECP系統的壓力測試、功能調整、市場推廣、成效評估與系統改善。希望構建一個可支援品牌商家、廣大消費者的「非同步式瀏覽」及「同步式交易」網路環境,以增進銷售轉換率與顧客忠誠度。

### 1.4 文件範圍
這份文件滿足FOSWS概念上功能、介面、效能和其他需求,同時也滿足AS、CS、PS、DBS這四個子系統的需求。

### 1.5 方法
本系統需求規格書採「需求導向開發方法(Requirements-Driven Development)」並結合 IEEE 830 標準原則撰寫。

需求開發流程包含以下步驟:
1.  利害關係人訪談與需求蒐集。
2.  使用案例建模與需求分析。
3.  需求優先排序(依 MoSCoW方法)。
4.  需求驗證、追蹤矩陣建立與文件審查。

需求採唯一編號制(如AS001、CS005),確保可追蹤性與可驗證性。所有需求均附有明確驗收標準,且文件以持續審查(Iterative Review)機制更新。

### 1.6 符號

| 符號 | 描述 |
| :--- | :--- |
| FOSWS 1.0.0 | FOSWS系統將用1.0.0編號 |
| AS 1.1.n | AS將用1.1.n編號 |
| CS 1.2.n | CS將用1.2.n編號 |
| PS 1.3.n | PS將用1.3.n編號 |
| DBS 1.4.n | DBS將用1.4.n編號 |

### 1.7 控制文件
本系統需求規格書的撰寫與開發,主要參考並依循以下文件的規範與結論:
* FOMO 線上購物網站系統專案章程(Project Charter)
* 電子商務平台市場競爭力與使用者需求分析報告
* 使用者體驗(UX)設計與品牌視覺識別規範 v1.0

### 1.8 優先順序
本文件中所有功能需求的開發優先級,是依據其對業務目標的影響程度和實作的急迫性來劃分。優先順序的代碼定義如下:

| 優先順序 | 描述 |
| :--- | :--- |
| 1 | **關鍵的.** 此為系統核心功能,若未能滿足此類需求,將導致網站無法完成基本的購物流程(如瀏覽商品、加入購物車、結帳),或違反最基本的營運承諾。 |
| 2 | **重要的.** 此類需求對提升使用者體驗和營運效率至關重要。若未能實作,可能會導致使用者操作不便、增加客服或管理人員的工作負擔,進而對系統效能或顧客滿意度產生負面影響。 |
| 3 | **令人滿意的.** 此類需求能進一步優化網站功能、提升使用者黏著度或降低營運成本。雖然缺少這些功能不影響核心運作,但實作後能顯著提升市場競爭力。開發團隊可能因時程或資源限制將其延後處理。 |
| 4 | **非必須的.** 這些是未來可能考慮加入的潛在功能或長期優化項目。在目前開發階段,團隊已將其納入考量,但暫時不會投入資源進行實作。 |

---

## 第二章 FOMO線上購物網站系統 (FOSWS 1.0.0)

### 2.1 系統描述
FOMO 系統整體採分層架構(Presentation、Application、 Data Layer), 主要特性如下:
* 支援會員註冊、登入、第三方認證。
* 提供商品搜尋、篩選、推薦與收藏功能。
* 完整購物流程:加入購物車、結帳、金流串接。
* 管理端支援商品、庫存與行銷活動管理。
* 整合金流系統與自動化報表功能。
* 資料庫提供備援、交易一致性與安全儲存。
* 具備日誌追蹤、異常通知、災難復原機制。

### 2.2 系統功能
FOMO提供以下的功能:

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| SYS001 | 1 | 系統應支援使用者註冊、登入與身分驗證 |
| SYS002 | 1 | 系統應提供商品搜尋與推薦功能(AI模型驅動)。 |
| SYS003 | 1 | 支援購物車與多金流支付流程。 |
| SYS004 | 1 | 管理者可新增、修改、刪除商品與庫存 |
| SYS005 | 2 | 系統應提供銷售報表與統計分析匯出功能。 |
| SYS006 | 2 | 系統應具備即時客服聊天介面。 |
| SYS007 | 1 | 系統每日自動備份資料並支援復原。 |

### 2.3 介面總覽

#### 2.3.1 內部介面

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| IF001 | 1 | 前後端透過 HTTPS RESTful API 通訊,格式為 JSON. |
| IF002 | 1 | 後端與資料庫採JDBC/ORM連線,支援交易管理。 |
| IF003 | 2 | 模組間以MQ傳遞非同步事件。 |

#### 2.3.2 外部介面

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| IF004 | 1 | 整合第三方支付API (LINE Pay、街口) |
| IF005 | 2 | 提供開放API給合作夥伴查詢授權資料 |
| IF006 | 3 | 系統支援 SMTP 以發送郵件與通知。 |

### 2.4 效能需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| PF001 | 1 | 系統應支援 1,000位同時使用者 |
| PF002 | 1 | API 回應時間 P95 < 500毫秒 |
| PF003 | 2 | 交易資料存取 < 0.5秒。 |
| PF004 | 2 | 高峰期下仍維持穩定效能。 |

### 2.5 操作概念
* 使用者透過瀏覽器或行動端登入系統。
* 首頁顯示熱門商品與個人化推薦。
* 登入後可執行購物、結帳、查詢訂單、留言。
* 管理者於後台執行商品與訂單管理。
* 所有操作均自動記錄於稽核日誌中。

### 2.6 系統測試需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| ST001 | 1 | API 單元測試覆蓋率90%以上。 |
| ST002 | 1 | 系統整合測試需確保模組交互正確。 |
| ST003 | 2 | 壓力測試模擬2,000名同時使用者。 |
| ST004 | 2 | 系統應通過 OWASP Top 10安全測試 |

---

## 第三章 管理者系統 (AS 1.1.n)

### 3.1 子系統描述
本子系統供平台管理者使用,主要職責包括商品、訂單、會員與行銷管理。管理者可透過後台介面操作系統數據,進行維護與監控,確保整體營運流程順暢並符合法規要求。

功能概述如下:
* 商品資料維護:新增、刪除、修改商品資訊。
* 訂單管理:出貨、退款、狀態更新。
* 行銷活動設定:折扣碼與推播通知。
* 使用者權限控管與日誌稽核。
* 報表生成與系統備份。

### 3.2 功能需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| AS001 | 1 | 管理者可新增、刪除、修改商品(含圖片、價格、庫存),並紀錄操作歷程。 |
| AS002 | 1 | 管理者可查詢、搜尋、匯出訂單,並進行退款與出貨狀態更新。 |
| AS003 | 1 | 系統應具備角色型存取控制(RBAC),可自訂權限。 |
| AS004 | 2 | 系統應生成銷售與庫存報表,並可依日期、分類篩選。 |
| AS005 | 1 | 系統應每日自動備份資料並提供還原機制 |

### 3.3 介面需求

#### 3.3.1 內部介面

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| ASIF001 | 1 | 管理者前端介面透過內部 API 與後端交互傳輸資料。 |
| ASIF002 | 1 | 管理系統模組與資料層間以事務控管方式同步商品狀態。 |

#### 3.3.2 外部介面

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| ASIF003 | 2 | 系統支援匯出報表至外部檔案格式(CSV、PDF)。 |
| ASIF004 | 3 | 可與外部分析平台(如 Google Analytics)串接以強化報表分析。 |

### 3.4 效能需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| ASPF001 | 1 | 單筆查詢回應時間應小於1秒 |
| ASPF002 | 2 | 匯出1,000筆報表資料時間不超過5秒 |
| ASPF003 | 3 | 系統後台同時操作人數支援至少 100 位管理者。 |

### 3.5 操作概念
1.  管理者登入後台系統並通過雙因素驗證(2FA)。
2.  選擇「商品管理」功能,進行新增或修改作業。
3.  系統即時更新商品狀態並紀錄操作行為於稽核日誌。
4.  管理者可查閱報表或執行行銷活動設定。
5.  操作完成後,系統自動執行備份並發送報告。

### 3.6 安全、可信度、維護需求

#### 3.6.1 安全需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| ASS001 | 1 | 管理者登入需使用雙因素驗證(2FA) |
| ASS002 | 1 | 所有後台操作須記錄於稽核日誌並保存180天 |
| ASS003 | 2 | 備份資料須以加密方式儲存於安全伺服器 |

#### 3.6.2 可信度需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| ASR001 | 1 | 系統異常時應自動回復並通知管理者 |
| ASR002 | 2 | 系統具備容錯設計以防止資料遺失 |

#### 3.6.3 維護需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| ASM001 | 1 | 系統提供操作與維護手冊 |
| ASM002 | 2 | 提供版本更新記錄與錯誤追蹤介面 |

### 3.7 交付、安裝、環境需求

#### 3.7.1 交付需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| ASD001 | 1 | 系統交付前須完成整合測試與安全稽核。 |

#### 3.7.2 安裝需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| ASD002 | 2 | 系統安裝應支援自動化部署腳本(CI/CD) |

#### 3.7.3 環境需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| ASD003 | 2 | 系統應可運行於Linux(Ubuntu 20.04+)伺服器環境。 |

---

## 第四章 顧客子系統 (CS 1.2.n)

### 4.1 子系統描述
顧客子系統為主要使用者操作介面,功能涵蓋:
CS包含下列功能:
* 會員帳號註冊、登入、登出、第三方登入(Google、Facebook、LINE)。
* 商品搜尋、分類、篩選、瀏覽與收藏。
* 購物車操作、結帳、付款與折扣碼管理。
* 訂單查詢、退貨、退款與物流追蹤。
* 商品評價、留言回覆與客服互動。
* 推播通知、電子郵件行銷與多語系支援。

### 4.2 功能需求

#### 4.2.1 顧客功能需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| CS001 | 1 | 系統應提供註冊、登入及密碼重設功能,支援電子郵件及手機驗證。 |
| CS002 | 1 | 系統應支援第三方登入機制(Google、Facebook、LINE)。 |
| CS003 | 1 | 使用者可依分類、價格、品牌、評價進行商品搜尋與篩選。 |
| CS004 | 1 | 商品詳情頁應顯示圖片、價格、庫存、規格與相關推薦商品。 |
| CS005 | 1 | 系統應支援購物車功能,可新增、刪除、修改商品數量並同步至帳戶。 |
| CS006 | 1 | 使用者可完成結帳流程,選擇付款方式、配送方式與折扣碼。 |
| CS007 | 1 | 使用者可查詢訂單、查看配送進度與申請退貨退款。 |
| CS008 | 2 | 系統應支援商品評價與留言功能,並具內容過濾機制。 |
| CS009 | 2 | 系統應具備即時客服介面,支援文字與圖片上傳。 |

#### 4.2.2 個人帳戶與資料管理

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| CS010 | 1 | 使用者應能編輯其個人基本資料,如姓名、聯絡電話、生日等。 |
| CS011 | 1 | 使用者應能管理常用的收貨地址,包含新增、修改與刪除。 |
| CS012 | 2 | 系統應提供使用者修改登入密碼的功能 |
| CS013 | 2 | 使用者可以綁定或解除與第三方帳號(Google、Facebook等)的連結。 |

#### 4.2.3 商品收藏與追蹤

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| CS014 | 1 | 使用者可以將喜愛的商品加入「我的收藏」清單,方便日後查看。 |
| CS015 | 2 | 當收藏清單中的商品庫存不足或降價時,系統可發送通知給使用者。 |
| CS016 | 2 | 使用者可以瀏覽自己過去查看過的商品歷史紀錄。 |

#### 4.2.4 優惠與個人化設定

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| CS017 | 2 | 提供老師新增、刪除作業及批改該課程作業檔案 |
| CS018 | 3 | 使用者可以設定感興趣的商品類別,以接收個人化的商品推薦。 |
| CS019 | 3 | 系統應根據使用者的瀏覽與購買行為,提供個人化首頁與推薦內容。 |

#### 4.2.5 訊息與通知中心

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| CS020 | 1 | 系統應提供訊息中心,整合訂單狀態、物流更新、行銷活動等通知。 |
| CS021 | 2 | 使用者可以設定是否願意接收電子郵件或App推播的行銷通知。 |
| CS022 | 1 | 付款成功、訂單確認、商品出貨等重要節點,系統應自動發送通知給使用者。 |

#### 4.2.6 商品評價與問答

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| CS023 | 2 | 使用者可針對已購買的商品發表附有星級評分、文字與圖片的評論。 |
| CS024 | 3 | 使用者可在商品頁面提出問題,並由其他顧客或商家回覆。 |
| CS025 | 2 | 系統應允許使用者對他人的評論或問答按讚,以標示其參考價值。 |

### 4.3 介面需求

#### 4.3.1 內部介面

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| CSIF001 | 1 | 前端與後端以HTTPS RESTful API通訊,資料格式採 JSON。 |
| CSIF002 | 1 | 顧客模組可直接從DB層查詢商品、訂單與會員資料。 |
| CSIF003 | 2 | 評價資料透過中介層傳遞至後端審查模組 |

#### 4.3.2 外部介面

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| CSIF004 | 1 | 系統應與第三方支付API (LINE Pay、街口支付) 整合。 |
| CSIF005 | 2 | 系統應支援 Firebase 或同等推播通知服務。 |
| CSIF006 | 3 | 系統可透過地圖API顯示物流配送狀態。 |

### 4.4 效能需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| CSPF001 | 1 | 商品搜尋回應時間應於0.5秒內完成(P95)。 |
| CSPF002 | 1 | 結帳流程應於5秒內完成,不含第三方延遲 |
| CSPF003 | 2 | 系統應支援1,000名顧客同時在線 |
| CSPF004 | 3 | 系統錯誤率需低於0.1%。 |

### 4.5 操作概念
* 使用者登入後可瀏覽首頁與個人化推薦。
* 可使用關鍵字搜尋商品。
* 將商品加入購物車並進行結帳。
* 完成付款後收到訂單確認信。
* 可查詢物流狀態或進行退貨申請。

### 4.6 安全、可信度、維護需求

#### 4.6.1 安全需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| CSS001 | 1 | 密碼應以 Bcrypt 雜湊演算法儲存 |
| CSS002 | 1 | 登入 Session 若1小時無操作應自動登出。 |
| CSS003 | 2 | 傳輸資料應使用HTTPS/TLS 1.2以上版本。 |

#### 4.6.2 可信度需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| CSR001 | 1 | 訂單交易資料需符合ACID原則確保一致性。 |
| CSR002 | 2 | 系統中斷後應自動恢復購物車資料 |

#### 4.6.3 維護需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| CSM001 | 1 | 提供錯誤日誌查詢與除錯介面 |
| CSM002 | 2 | API文件須定期維護並更新版本控制 |

### 4.7 交付、安裝、環境需求

#### 4.7.1 交付需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| CSD001 | 1 | 系統交付前須通過整合測試與驗收測試。 |

#### 4.7.2 安裝需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| CSD002 | 2 | 前端應可部署於CDN或雲端靜態伺服器。 |

#### 4.7.3 環境需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| CSD003 | 1 | 系統應支援主流瀏覽器(Chrome、Edge、Safari、Firefox)。 |

---

## 第五章 金流子系統 (PS 1.4.n)

### 5.1 子系統描述
本模組負責線上支付流程管理與第三方金流整合,包含:
* 信用卡授權與驗證。
* 第三方支付串接(LINE Pay、街口、Apple Pay)。
* 退款、對帳與異常處理。
* 金流安全性監控與稽核記錄。

### 5.2 功能需求

#### 5.2.1 交易處理與支付管理

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| PS001 | 1 | 支援信用卡與第三方支付功能 |
| PS002 | 1 | 每筆交易須具唯一交易編號並完整紀錄狀態。 |
| PS003 | 1 | 系統支援退款流程並保留審核紀錄。 |
| PS004 | 1 | 異常交易觸發通知並自動回滾。 |
| PS005 | 1 | 系統每日自動對帳並產生報告 |

#### 5.2.2 使用者交易紀錄查詢

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| TR001 | 1 | 使用者可查詢歷史支付記錄,包括金額、時間、支付方式等。 |
| TR002 | 1 | 系統提供交易狀態篩選功能(成功、失敗、退款中)。 |
| TR003 | 2 | 支援匯出個人交易紀錄為PDF 或Excel檔。 |
| TR004 | 2 | 查詢結果應顯示訂單明細與對應服務項目名稱。 |

#### 5.2.3 金流通知與訊息中心

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| NT001 | 1 | 系統發送付款成功、失敗、退款等通知至使用者信箱。 |
| NT002 | 2 | 通知類型支援 Email 與系統內訊息中心雙渠道 |

#### 5.2.4 金流客服與即時協助模組

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| CS001 | 1 | 使用者可於系統內提交金流相關問題單(客服單) |
| CS002 | 2 | 支援留言討論、回覆與附件上傳功能 |

#### 5.2.5 付款人基本資料與帳號維護

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| AC001 | 1 | 使用者可編輯付款資料,包括姓名、地址、聯絡方式。 |
| AC002 | 1 | 系統應驗證電子郵件與手機號碼之正確性。 |

### 5.3 介面需求

#### 5.3.1 內部介面

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| PSIF001 | 1 | 金流模組應與訂單模組同步更新交易狀態。 |
| PSIF002 | 2 | 金流與DB 模組間須具事務控制機制確保一致性。 |

#### 5.3.2 外部介面

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| PSIF003 | 1 | 系統應整合第三方金流API並通過簽章驗證 |
| PSIF004 | 2 | 系統應提供對外回調介面供金流平台回傳狀態。 |

### 5.4 效能需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| PSPF001 | 1 | 每筆金流交易應於2秒內完成。 |
| PSPF002 | 2 | 系統同時可處理至少200筆交易 |

### 5.5 操作概念
* 顧客提交訂單後系統送出交易請求。
* 第三方金流回傳授權結果。
* 系統依結果更新訂單狀態並記錄日誌。
* 若交易失敗,系統回滾並通知顧客。

### 5.6 安全、可信度、維護需求

#### 5.6.1 安全需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| PSS001 | 1 | 只有顧客帳號可以登入訂單查詢系統 |
| PSS002 | 1 | 系統不得儲存完整信用卡資料。 |
| PSS003 | 2 | API 金鑰須以環境變數安全儲存 |

#### 5.6.2 可信度需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| PSR001 | 1 | 系統具重送機制以確保交易成功率。 |
| PSR002 | 2 | 若交易中斷應自動恢復並通知使用者。 |

#### 5.6.3 維護需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| PSM001 | 1 | 提供交易日誌查詢介面 |
| PSM002 | 2 | 金流模組 API可獨立部署維護 |

### 5.7 交付、安裝、環境需求

#### 5.7.1 交付需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| PSD001 | 1 | 模組交付前須通過安全稽核與測試。 |

#### 5.7.2 安裝需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| PSD002 | 2 | 模組應支援 Docker 容器化部署 |

#### 5.7.3 環境需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| PSD003 | 2 | 系統應可於AWS/Azure/GCP等雲環境運行。 |

---

## 第六章 資料庫系統 (DBS 1.4.0)

### 6.1 子系統描述
本子系統為整體資料核心,負責資料儲存、查詢、備份與一致性維護。主要功能包括:
* 使用者、商品、訂單、交易與日誌資料儲存。
* 提供ACID交易保證與安全存取。
* 支援自動備份與異地還原。
* 具備監控、索引與效能優化機制。

### 6.2 功能需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| DBS001 | 1 | 系統應支援 ACID交易,確保資料一致性。 |
| DBS002 | 1 | 資料庫應每日自動備份並支援時間點還原。 |
| DBS003 | 2 | 系統應支援讀寫分離以提升效能 |
| DBS004 | 3 | 系統應具備索引優化機制以加速查詢。 |

### 6.3 介面需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| DBSIF001 | 1 | 提供安全的JDBC介面供後端連接 |
| DBSIF002 | 1 | API 模組可透過ORM操作資料。 |
| DBSIF003 | 2 | 支援 SQL 與NoSQL 混合查詢架構 |

### 6.4 效能需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| DBSPF001 | 1 | 單次查詢回應時間 < 0.5秒 |
| DBSPF002 | 2 | 系統應支援500以上連線且穩定運作 |
| DBSPF003 | 3 | 備份不應使效能下降超過10%。 |

### 6.5 操作概念
* 所有資料操作均由事務控制確保一致性。
* 備份作業自動化執行並產生日誌。
* 維護人員可依查詢頻率自動調整索引。

### 6.6 安全、可信度、維護需求

#### 6.6.1 安全需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| DBSS001 | 1 | 資料庫連線採用TLS加密 |
| DBSS002 | 1 | 權限控管依最小權限原則設定 |
| DBSS003 | 2 | 備份檔案須以AES-256 加密儲存。 |

#### 6.6.2 可信度需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| DBSR001 | 1 | 應具備主從備援機制以防止服務中斷。 |
| DBSR002 | 2 | 系統故障後應於30分鐘內恢復運作。 |

#### 6.6.3 維護需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| DBSM001 | 1 | 系統應提供資料庫監控儀表板。 |
| DBSM002 | 2 | 支援自動索引更新與暫存資料清理 |

### 6.7 交付、安裝、環境需求

#### 6.7.1 交付需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| DBSD001 | 1 | 系統交付前須完成壓力與可靠性測試。 |

#### 6.7.2 安裝需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| DBSD002 | 2 | 安裝過程應支援自動化部署(Ansible) |

#### 6.7.3 環境需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| DBSD003 | 2 | 支援 MySQL、PostgreSQL 等主流 RDBMS |

---

## 附錄A 追蹤矩陣 (Traceability Matrix)

### A1. 水平追蹤矩陣 (Horizontal Traceability Matrix)

**主系統(SYS) 追蹤矩陣 (v: 表示有關聯)**

| | SYS001 | SYS002 | SYS003 | SYS004 | SYS005 | SYS006 | SYS007 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **SYS001** | | | V | V | | V | V |
| **SYS002** | | | V | V | | | |
| **SYS003** | V | V | | | V | | V |
| **SYS004** | V | V | | | V | | V |
| **SYS005** | | | V | V | | | |
| **SYS006** | V | | | | | | |
| **SYS007** | V | | V | V | | | |

**管理者系統(AS) 追蹤矩陣 (v: 表示有關聯)**

| | AS001 | AS002 | AS003 | AS004 | AS005 | ASIF001 | ASIF002 | ASIF003 | ASPF001 | ASPF002 | ASS001 | ASS002 | ASS003 | ASR001 | ASR002 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **AS001** | | V | V | V | V | V | | | V | | V | V | | V | V |
| **AS002** | V | | V | V | V | V | | | V | | V | V | | V | V |
| **AS003** | V | V | | | | | | | | | V | | | | |
| **AS004** | V | V | | | V | | | V | V | V | V | | | V | V |
| **AS005** | V | V | | V | | | | | | | V | | V | V | V |
| **ASIF001**| V | V | | | | | V | | | | | | | | |
| **ASIF002**| | | | | | V | | | | | | | | | |
| **ASIF003**| | | | V | | | | | | | | | | | |
| **ASPF001**| V | V | | V | | | | | | V | | | | | |
| **ASPF002**| | | | V | | | | | V | | | | | | |
| **ASS001** | V | V | V | V | V | | | | | | | | | | |
| **ASS002** | V | V | | | | | | | | | | | | | |
| **ASS003** | | | | | V | | | | | | | | | | |
| **ASR001** | V | V | | V | V | | | | | | | | | | V |
| **ASR002** | V | V | | V | V | | | | | | | | | V | |

**金流子系統(PS) 追蹤矩陣 (v: 表示有關聯)**

| | PS001 | PS002 | PS003 | PS004 | PS005 | TR001 | TR002 | NT001 | AC001 | PSIF003 | PSPF001 | PSS002 | PSR001 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **PS001** | | V | V | V | | | | V | V | V | V | V | V |
| **PS002** | V | | V | | V | V | V | | | | | | |
| **PS003** | V | V | | | | | | V | | | | | V |
| **PS004** | V | | | | | | | V | | | | | |
| **PS005** | | V | | | | V | V | | | | | | |
| **TR001** | | V | | | V | | V | | | | | | |
| **TR002** | | V | | | V | V | | | | | | | |
| **NT001** | V | | V | V | | | | | | | | | |
| **AC001** | V | | | | | | | | | | | | |
| **PSIF003**| V | | | | | | | | | | | | |
| **PSPF001**| V | | | | | | | | | | | | |
| **PSS002** | V | | | | | | | | | | | | |
| **PSR001** | V | | V | | | | | | | | | | |

**資料庫系統(DBS) 追蹤矩陣 (v: 表示有關聯)**

| | DBS001 | DBS002 | DBS003 | DBS004 | DBSIF001 | DBSIF002 | DBSPF001 | DBSPF002 | DBSS001 | DBSS003 | DBSR001 | DBSR002 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **DBS001** | | | | | V | V | | | | | | |
| **DBS002** | | | | | | | | | | V | V | V |
| **DBS003** | | | | | | | V | V | | | V | |
| **DBS004** | | | | | | | V | | | | | |
| **DBSIF001**| V | | | | | V | | | V | | | |
| **DBSIF002**| V | | | | V | | | | | | | |
| **DBSPF001**| | | V | V | | | | V | | | | |
| **DBSPF002**| | | V | | | | V | | | | | |
| **DBSS001** | | | | | V | | | | | | | |
| **DBSS003** | | V | | | | | | | | | | |
| **DBSR001** | | V | V | | | | | | | | | V |
| **DBSR002** | | V | | | | | | | | | V | |

### A2. 垂直追蹤矩陣 (Vertical Traceability Matrix)

**總覽系統需求 (FOSWS)與各子系統的關聯矩陣 (v: 表示有關聯)**

| | AS | CS | PS | DBS |
| :--- | :--- | :--- | :--- | :--- |
| **SYS001** | V | V | V | V |
| **SYS002** | V | V | | V |
| **SYS003** | V | V | V | V |
| **SYS004** | V | | | V |
| **SYS005** | V | | V | V |
| **SYS006** | | V | V | V |
| **SYS007** | V | | | V |
| **IF001** | V | V | V | |
| **IF002** | V | V | V | V |
| **IF003** | | V | V | |
| **IF004** | | V | V | |
| **IF005** | V | V | | |
| **IF006** | | V | V | |
| **PF001** | V | V | V | V |
| **PF002** | V | V | V | V |
| **PF003** | V | V | V | V |
| **PF004** | V | V | V | V |
| **ST001** | V | V | V | |
| **ST002** | V | V | V | V |
| **ST003** | | V | V | V |
| **ST004** | V | V | V | V |

**管理者系統(AS) 追蹤矩陣 (v: 表示有關聯)**

| | AS001 | AS002 | AS003 | AS004 | AS005 | ASIF001 | ASIF003 | ASPF001 | ASPF002 | ASS001 | ASS002 | ASS003 | ASR001 | ASR002 | ASD001 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **SYS001** | | | V | | | | | | | V | V | | | | |
| **SYS002** | V | | | V | | | | | | | | | | | |
| **SYS003** | | V | | | | | | | | | | | | | |
| **SYS004** | V | | | | | V | | V | | | V | | V | V | V |
| **SYS005** | | | | V | | | V | | V | | | | | | V |
| **SYS007** | | | | | V | | | | | | | V | V | V | V |
| **IF001** | | | | | | V | | | | | | | | | |
| **IF002** | | | | | | V | | | | | | | | | |
| **PF001** | | | | | | | | | | | | | | | |
| **PF002/PF003** | | | | | | | | V | V | | | | | | |
| **ST002/ST004** | | | | | | | | | | | | | | | V |

**顧客子系統(CS) 追蹤矩陣 (v: 表示有關聯)**

| | CS001 | CS002 | CS003 | CS005 | CS006 | CS007 | CS009 | CS019 | CS022 | CSIF001 | CSIF004 | CSPF001 | CSPF003 | CSS001 | CSS003 | CSD001 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **SYS001** | V | V | | | | | | | | | | | | V | V | |
| **SYS002** | | | V | | | | | V | | | | V | | | | |
| **SYS003** | | | | V | V | | | | | | V | | | | | |
| **SYS006** | | | | | | | V | | | | | | | | | |
| **IF001** | | | | | | | | | | V | | | | | | |
| **IF003/IF006**| | | | | | | | | V | | | | | | | |
| **IF004** | | | | | V | | | | | | V | | | | | |
| **PF001** | | | | | | | | | | | | | V | | | |
| **PF002** | | | | | | | | | | | | V | | | | |
| **PF004** | | | | | | | | | | | | | V | | | |
| **ST002/ST003**| | | | | | | | | | | | | | | | V |
| **ST004** | | | | | | | | | | | | | | V | V | V |

**金流子系統(PS) 追蹤矩陣 (v: 表示有關聯)**

| | PS001 | PS002 | PS003 | PS004 | PS005 | NT001 | PSD001 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **SYS003** | V | V | V | V | | | |
| **SYS005** | | | | | V | | |
| **SYS006** | | | | | | | |
| **IF004** | V | | | | | | |
| **IF006** | | | | | | V | |
| **PF001** | | | | | | | |
| **PF002/PF003** | | | | | | | |
| **ST002/ST004** | | | | | | | V |

**資料庫系統(DBS) 追蹤矩陣 (v: 表示有關聯)**

| | DBS001 | DBS002 | DBS003 | DBS004 | DBSIF001 | DBSPF001 | DBSPF002 | DBSS001 | DBSS002 | DBSS003 | DBSR001 | DBSR002 | DBSD001 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **SYS001** | V | | | | | | | | V | | | | |
| **SYS002** | | | | V | | V | | | | | | | |
| **SYS003** | V | | | | | | | | | | | | |
| **SYS007** | | V | | | | | | | | V | V | V | V |
| **IF002** | V | | | | V | | | | | | | | |
| **PF001** | | | V | | | | | | | | V | | |
| **PF002/PF003**| | | | V | | V | | | | | | | |
| **PF004** | | | V | | | | V | | | | V | | |
| **ST002/ST003**| | | | | | | | | | | | | V |
| **ST004** | | | | | | | | V | V | V | | | V |
