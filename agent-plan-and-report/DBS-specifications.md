# FOMO線上購物網站系統 (FOMO Online Shopping Website System) [FOSWS]
## 需求文件(V. 1.0)

---

## 第六章 資料庫系統 (DBS 1.4.0)

### 6.1 子系統描述
本子系統為整體資料核心,負責資料儲存、查詢、備份與一致性維護。主要功能包括:
* 使用者、商品、訂單、交易與日誌資料儲存。
* 提供ACID交易保證與安全存取。
* 支援自動備份與異地還原。
* 具備監控、索引與效能優化機制。

### 6.2 功能需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| DBS001 | 1 | 系統應支援 ACID交易,確保資料一致性。 |
| DBS002 | 1 | 資料庫應每日自動備份並支援時間點還原。 |
| DBS003 | 2 | 系統應支援讀寫分離以提升效能 |
| DBS004 | 3 | 系統應具備索引優化機制以加速查詢。 |

### 6.3 介面需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| DBSIF001 | 1 | 提供安全的JDBC介面供後端連接 |
| DBSIF002 | 1 | API 模組可透過ORM操作資料。 |
| DBSIF003 | 2 | 支援 SQL 與NoSQL 混合查詢架構 |

### 6.4 效能需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| DBSPF001 | 1 | 單次查詢回應時間 < 0.5秒 |
| DBSPF002 | 2 | 系統應支援500以上連線且穩定運作 |
| DBSPF003 | 3 | 備份不應使效能下降超過10%。 |

### 6.5 操作概念
* 所有資料操作均由事務控制確保一致性。
* 備份作業自動化執行並產生日誌。
* 維護人員可依查詢頻率自動調整索引。

### 6.6 安全、可信度、維護需求

#### 6.6.1 安全需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| DBSS001 | 1 | 資料庫連線採用TLS加密 |
| DBSS002 | 1 | 權限控管依最小權限原則設定 |
| DBSS003 | 2 | 備份檔案須以AES-256 加密儲存。 |

#### 6.6.2 可信度需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| DBSR001 | 1 | 應具備主從備援機制以防止服務中斷。 |
| DBSR002 | 2 | 系統故障後應於30分鐘內恢復運作。 |

#### 6.6.3 維護需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| DBSM001 | 1 | 系統應提供資料庫監控儀表板。 |
| DBSM002 | 2 | 支援自動索引更新與暫存資料清理 |

### 6.7 交付、安裝、環境需求

#### 6.7.1 交付需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| DBSD001 | 1 | 系統交付前須完成壓力與可靠性測試。 |

#### 6.7.2 安裝需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| DBSD002 | 2 | 安裝過程應支援自動化部署(Ansible) |

#### 6.7.3 環境需求

| 需求編號 | 優先順序 | 需求描述 |
| :--- | :--- | :--- |
| DBSD003 | 2 | 支援 MySQL、PostgreSQL 等主流 RDBMS |
